<form class="sw5e-helper-attack">

  {{!-- ================= Header ================= --}}
  <header class="hdr">
    <h2>{{localize "SW5EHELPER.AttackTitle"}}</h2>
  </header>

  {{!-- ============== Favorites Row ============== --}}
  <section class="row favorites">
    <label for="presetName">{{localize "SW5EHELPER.Favorites"}}</label>
    <select name="presetName" id="presetName">
      <option value="">{{localize "SW5EHELPER.None"}}</option>
      {{#each presets}}
        <option value="{{this.name}}" {{#if this.selected}}selected{{/if}}>{{this.name}}</option>
      {{/each}}
    </select>

    <button type="button" class="btn" data-action="save">
      {{localize "SW5EHELPER.Save"}}
    </button>

    <button type="button" class="btn warn" data-action="delete">
      {{localize "SW5EHELPER.Delete"}}
    </button>
  </section>

  {{!-- ============ Quick Presets Row ============ --}}
  <section class="row quick">
    <button type="button" class="btn" data-action="load-last">
      {{localize "SW5EHELPER.LoadLastUsed"}}
    </button>

    <button type="button" class="btn ghost" data-action="clear">
      {{localize "SW5EHELPER.Clear"}}
    </button>
  </section>

  {{!-- =========== Weapon Selection Row ========== --}}
  <section class="row weapon">
    <label for="weaponId">{{localize "SW5EHELPER.Weapon"}}</label>
    <select name="weaponId" id="weaponId">
      {{#each weapons}}
        <option value="{{this.id}}" {{#if this.selected}}selected{{/if}}>{{this.name}}</option>
      {{/each}}
    </select>
  </section>

  {{!-- ======== Universal Options Row 1 ========= --}}
  <section class="row uni1">
    <label for="ability">{{localize "SW5EHELPER.Ability"}}</label>
    <select name="ability" id="ability">
      <option value="">{{localize "SW5EHELPER.Default"}}</option>
      {{#each abilities}}
        <option value="{{this}}" {{#if (eq ../ability this)}}selected{{/if}}>{{this}}</option>
      {{/each}}
    </select>

    <label class="chk offhand">
      <input type="checkbox" name="offhand" {{#if offhand}}checked{{/if}}>
      {{localize "SW5EHELPER.OffHand"}}
    </label>
  </section>

  {{!-- ======= Smart Weapon Override Row ========= --}}
  <section class="row smart">
    <label class="chk">
      <input type="checkbox" name="smart" {{#if smart}}checked{{/if}}>
      {{localize "SW5EHELPER.SmartWeapon"}}
    </label>

    <label for="smartAbility">{{localize "SW5EHELPER.SmartAbility"}}</label>
    <input type="number" id="smartAbility" name="smartAbility" value="{{smartAbility}}" style="width:4.2rem;">

    <label for="smartProf">{{localize "SW5EHELPER.SmartProf"}}</label>
    <input type="number" id="smartProf" name="smartProf" value="{{smartProf}}" style="width:4.2rem;">
  </section>

  {{!-- ======== Universal Options Row 2 ========= --}}
  <section class="row uni2">
    <label for="atkMods">{{localize "SW5EHELPER.ExtraModsAtk"}}</label>
    <input type="text" id="atkMods" name="atkMods"
           placeholder="{{localize 'SW5EHELPER.ExtraModsAtkPH'}}"
           value="{{atkMods}}">
  </section>

  {{!-- ===== Separate-per-target (above roll) ==== --}}
  <section class="row separate">
    <label class="chk">
      <input type="checkbox" name="separate" {{#if separate}}checked{{/if}}>
      {{localize "SW5EHELPER.SeparatePerTargetAtk"}}
    </label>
  </section>

{{!-- ============ Roll Mode (radio) ============ --}}
<section class="row rollmode">
  <label><input type="radio" name="advMode" value="adv"    {{#if (eq adv "adv")}}checked{{/if}}>    {{localize "SW5EHELPER.Adv"}}</label>
  <label><input type="radio" name="advMode" value="normal" {{#if (eq adv "normal")}}checked{{/if}}> {{localize "SW5EHELPER.Normal"}}</label>
  <label><input type="radio" name="advMode" value="dis"    {{#if (eq adv "dis")}}checked{{/if}}>    {{localize "SW5EHELPER.Disadv"}}</label>
</section>

{{!-- ============ Footer (Roll/Cancel) ========== --}}
<footer class="row footer">
  <button type="button" class="btn primary" data-action="roll">Roll</button>
  <button type="button" class="btn cancel" data-action="cancel">{{localize "SW5EHELPER.Cancel"}}</button>
</footer>


</form>
